{"version":3,"sources":["components/Watches/FormWatches/FormWatches.js","components/Watches/ItemWatches/ItemWatches.js","components/Watches/Watches.js","components/Watches/index.js","components/CRUD/CrudHeader/CrudHeader.js","components/CRUD/FormNewNote/FormNewNote.js","components/CRUD/Note/Note.js","components/CRUD/utility/links.js","components/CRUD/CRUD.js","App.js","index.js"],"names":["regTimezone1","regTimezone2","FormWatches","addItem","formEmptyValue","title","timezone","useState","form","setForm","handleInputChange","event","target","name","value","length","test","prevForm","className","onSubmit","preventDefault","parseInt","htmlFor","id","onChange","placeholder","ItemWatches","props","interval","state","time","hours","minutes","seconds","style","hand","date","Date","offset","getTimezoneOffset","this","item","setHours","getHours","getMinutes","getSeconds","deg","transform","getTime","setState","prevState","getHandStyle","changeTime","diff","getMilliseconds","setTimeout","setInterval","clearInterval","digit","handleItemRemove","formatTime","onClick","React","Component","watchesDefValue","nanoid","Watches","watches","filter","prevItem","map","CrudHeader","requestNotes","isBtnAnimated","setIsBtnAnimated","FormNewNote","requestAddingNote","content","rows","Note","note","handleNoteRemove","url","URL","window","location","href","hostname","port","protocol","root","pathname","origin","notes","CRUD","noteID","a","fetch","links","method","response","json","success","body","JSON","stringify","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.22ea972e.chunk.js","sourcesContent":["import { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport './form-watches.css';\r\n\r\n// Проверять временную зону одной регуляркой во время ввода не получилось.\r\nconst regTimezone1 = /^[+-\\d]?$/; // Проверка на ввод первого символа.\r\nconst regTimezone2 = /^[+-]?\\d{1,2}$/; // Проверка на ввод остальных символов.\r\n\r\nfunction FormWatches({ addItem }) {\r\n  const formEmptyValue = { title: '', timezone: '' };\r\n  const [form, setForm] = useState(formEmptyValue);\r\n\r\n  const handleInputChange = (event) => {\r\n    const { name, value } = event.target;\r\n\r\n    // Эта конструкция условий не пропускает значения в input, которые не соответствуют формату временной зоны,\r\n    // и пропускает пустую строку (позволяя тем самым очистить input).\r\n    if (name === 'timezone') {\r\n      if (value.length === 1) {\r\n        if (!regTimezone1.test(value)) return;\r\n      } else if (value.length > 1) {\r\n        if (!regTimezone2.test(value)) return;\r\n      }\r\n    }\r\n\r\n    setForm((prevForm) => ({ ...prevForm, [name]: value }));\r\n  }\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    if (form.title.length === 0 || form.timezone.length === 0) return;\r\n\r\n    addItem({\r\n      title: form.title,\r\n      timezone: parseInt(form.timezone),\r\n    });\r\n\r\n    setForm(formEmptyValue);\r\n  }\r\n\r\n  return (\r\n    <form className={'watches__form form-watches'} onSubmit={handleSubmit}>\r\n        <div className={'form-watches__body'}>\r\n          <div className={'form-watches__column form-watches__column-1'}>\r\n            <div className={'form-watches__item item-form-watches'}>\r\n              <label className={'item-form-watches__title'} htmlFor={'watches-input-title'}>Название</label>\r\n              <input \r\n                className={'item-form-watches__input'}\r\n                id={'watches-input-title'}\r\n                name={'title'}\r\n                value={form.title}\r\n                onChange={handleInputChange} />\r\n            </div>\r\n          </div>\r\n\r\n          <div className={'form-watches__column form-watches__column-2'}>\r\n            <div className={'form-watches__item item-form-watches'}>\r\n              <label className={'item-form-watches__title'} htmlFor={'watches-input-timezone'}>Временная зона</label>\r\n              <input \r\n                className={'item-form-watches__input'}\r\n                id={'watches-input-timezone'}\r\n                name={'timezone'}\r\n                value={form.timezone}\r\n                onChange={handleInputChange}\r\n                placeholder={'Примеры: 2, 0, -1, +3'} />\r\n            </div>\r\n          </div>\r\n\r\n          <div className={'form-watches__column form-watches__column-3'}>\r\n            <div className={'form-watches__item item-form-watches'}>\r\n              <button className={'item-form-watches__btn'}>Добавить</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </form>\r\n  )\r\n}\r\n\r\nFormWatches.propTypes = {\r\n  addItem: PropTypes.func.isRequired,\r\n}\r\n\r\nexport default FormWatches;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport './item-watches.css';\r\n\r\nclass ItemWatches extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.interval = null;\r\n    this.state = {\r\n      time: {\r\n        hours: 0,\r\n        minutes: 0,\r\n        seconds: 0,\r\n      },\r\n      style: {\r\n        // Стили отвечающие за поворот стрелок.\r\n        hand: {\r\n          hours: {},\r\n          minutes: {},\r\n          seconds: {},\r\n        }\r\n      },\r\n    }\r\n  }\r\n\r\n  getTime() {\r\n    const date = new Date();\r\n    const currTimezoneOffset = date.getTimezoneOffset() / 60; // Смещение локального часового пояса от нулевого (Рига -3).\r\n    const offset = currTimezoneOffset + this.props.item.timezone;\r\n\r\n    date.setHours(date.getHours() + offset);\r\n\r\n    return {\r\n      hours: date.getHours(),\r\n      minutes: date.getMinutes(),\r\n      seconds: date.getSeconds(),\r\n    }\r\n  }\r\n\r\n  getHandStyle(deg) {\r\n    return { transform: `translate(-50%, -100%) rotate(${deg}deg)` };\r\n  }\r\n\r\n  changeTime() {\r\n    const time = this.getTime();\r\n    this.setState((prevState) => ({\r\n      ...prevState,\r\n      time,\r\n      style: {\r\n        hand: {\r\n          // Один час равен повороту на 30 градусов + каждая минута увеличивает поворот еще на 0.5 градуса.\r\n          hours: this.getHandStyle(time.hours * 30 + time.minutes / 2),\r\n          minutes: this.getHandStyle(time.minutes * 6), // Одна минута равна повороту на 6 градусов.\r\n          seconds: this.getHandStyle(time.seconds * 6), // Одна секунда равна повороту на 6 градусов.\r\n        }\r\n      }\r\n    }));\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.changeTime();\r\n    // Вычисляем время до отсчета следующей секунды.\r\n    const diff = 1000 - new Date().getMilliseconds();\r\n\r\n    // Ждем наступления следующей секунды и запускаем интервал.\r\n    // Это позволяет синхронизировать начало вращение стрелки с наступлением реальной секунды,\r\n    // А также синхронизировать начало вращения стрелок между всеми компонентами.\r\n    setTimeout(() => {\r\n      this.interval = setInterval(() => this.changeTime(), 1000);\r\n    }, diff);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    clearInterval(this.interval);\r\n  }\r\n\r\n  formatTime(digit) {\r\n    return digit > 9 ? digit: `0${digit}`;\r\n  }\r\n  \r\n  render() {\r\n    const { item, handleItemRemove } = this.props;\r\n    const { time: { hours, minutes, seconds }, style } = this.state;\r\n\r\n    return (\r\n      <div className={'watches__item item-watches'}>\r\n        <div className={'item-watches__title'}>{item.title}</div>\r\n        <div className={'item-watches__main'}>\r\n          <div className={'item-watches__time-digit'}>\r\n            {this.formatTime(hours)}:{this.formatTime(minutes)}:{this.formatTime(seconds)}\r\n          </div>\r\n          <div className={'item-watches__clock-face clock-face'}>\r\n            <div className={'clock-face__hand clock-face__hour-hand'} style={style.hand.hours}></div>\r\n            <div className={'clock-face__hand clock-face__minute-hand'} style={style.hand.minutes}></div>\r\n            <div className={'clock-face__hand clock-face__second-hand'} style={style.hand.seconds}></div>\r\n          </div>\r\n  \r\n          <button className={'item-watches__btn-remove'} onClick={() => handleItemRemove(item)}>\r\n            <span className={'_visually-hidden'}>Удалить</span>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nItemWatches.propTypes = {\r\n  item: PropTypes.object.isRequired,\r\n  handleItemRemove: PropTypes.func.isRequired,\r\n}\r\n\r\nexport default ItemWatches;\r\n","import React from 'react';\r\nimport FormWatches from './FormWatches/FormWatches';\r\nimport ItemWatches from './ItemWatches/ItemWatches';\r\nimport { nanoid } from 'nanoid';\r\nimport './watches.css';\r\n\r\nconst watchesDefValue = [\r\n  {\r\n    id: nanoid(),\r\n    title: 'Москва',\r\n    timezone: 3,\r\n  },\r\n  {\r\n    id: nanoid(),\r\n    title: 'Лондон',\r\n    timezone: 1,\r\n  }\r\n];\r\n\r\nexport default class Watches extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = { watches : watchesDefValue };\r\n  }\r\n\r\n  addItem = (item) => {\r\n    item.id = nanoid();\r\n    this.setState((prevState) => ({ ...prevState, watches: [...prevState.watches, item]}));\r\n  }\r\n\r\n  handleItemRemove = (item) => {\r\n    this.setState((prevState) => ({ \r\n      ...prevState,\r\n      watches: prevState.watches.filter((prevItem) => prevItem.id !== item.id) \r\n    }));\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className={'watches'}>\r\n        <FormWatches addItem={this.addItem} />\r\n\r\n        <div className={'watches__items'}>\r\n          {this.state.watches.map((item) => \r\n            <ItemWatches \r\n              key={item.id}\r\n              item={item}\r\n              handleItemRemove={this.handleItemRemove} />)}\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import Watches from './Watches';\r\n\r\nexport default Watches;","import { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport './crud__header.css'\r\n\r\nfunction CrudHeader({ requestNotes }) {\r\n  const [isBtnAnimated, setIsBtnAnimated] = useState(false);\r\n\r\n  const handleClick = () => {\r\n    if (isBtnAnimated) return;\r\n    setIsBtnAnimated(true);\r\n    setTimeout(() => setIsBtnAnimated(false), 500);\r\n\r\n    requestNotes();\r\n  }\r\n  \r\n  return (\r\n    <header className={'crud__header'}>\r\n      <div className={'crud__title'}>Notes</div>\r\n      <button className={`crud__btn-udate${isBtnAnimated ? ' crud__btn-udate_animated': ''}`} onClick={handleClick}>\r\n        <span className={'material-icons'}>autorenew</span>\r\n        <span className={'_visually-hidden'}>update</span>\r\n      </button>\r\n    </header>\r\n  )\r\n}\r\n\r\nCrudHeader.propTypes = {\r\n  requestNotes: PropTypes.func.isRequired,\r\n}\r\n\r\nexport default CrudHeader;","import { useState } from 'react';\nimport './form-crud.css';\n\nfunction FormNewNote({ requestAddingNote }) {\n  const [form, setForm] = useState({\n    content: '',\n  });\n\n  const handleInputChange = (event) => {\n    const { name, value } = event.target;\n    setForm((prevForm) => ({ prevForm, [name]: value }));\n  }\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    if (form.content.length === 0) return;\n    requestAddingNote(form.content);\n  }\n\n  return (\n    <form className={'crud__form form-new-note'} onSubmit={handleSubmit}>\n      <header className={'form-new-note__header'}>\n        <div className={'form-new-note__title'}>New Note</div>\n        <button className={'form-new-note__btn-send'}>\n          <span className={'_visually-hidden'}>send</span>\n        </button>\n      </header>\n      <textarea \n        className={'form-new-note__input'} \n        name={'content'} \n        value={form.content} \n        onChange={handleInputChange}\n        rows={'8'}></textarea>\n    </form>\n  )\n}\n\nexport default FormNewNote;\n","import './note.css';\nimport PropTypes from 'prop-types';\n\nfunction Note({ note, handleNoteRemove }) {\n  return (\n    <div className={'note'}>\n      <div className={'note__body'}>\n        <p className={'note__text'}>{note.content}</p>\n        <button className={'note__btn-remove'} onClick={() => handleNoteRemove(note.id)}>\n          <span className={'_visually-hidden'}>remove</span>\n        </button>\n      </div>\n    </div>\n  )\n}\n\nNote.propTypes = {\n  note: PropTypes.object.isRequired,\n  handleNoteRemove: PropTypes.func.isRequired,\n}\n\nexport default Note;","// Генерирует и возвращает ссылки для продакшена или разработки в зависимости от того,\n// где разворачивается проект.\n\nconst url = new URL(window.location.href);\n\n// Параметры для разработки.\nif (url.hostname === 'localhost') {\n  url.port = '4000';\n}\n\n// Для фронтенда на git-hub.\nif (url.hostname === 'mksinc.github.io') {\n  url.hostname = 'ra-6-2-crud.herokuapp.com';\n  url.protocol = 'https';\n}\n\nconst root = url;\nroot.pathname = ''; // Убираем ненужный путь (/ru, /en, ...), чтобы ссылка была на корень.\n\nexport default {\n  root: root.origin,\n  notes: new URL('notes', url.href).href,\n};\n","import React from 'react';\r\nimport CrudHeader from './CrudHeader/CrudHeader';\r\nimport FormCrud from './FormNewNote/FormNewNote';\r\nimport Note from './Note/Note';\r\nimport links from './utility/links';\r\nimport './crud.css';\r\n\r\nexport default class CRUD extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      notes: [],\r\n    };\r\n  }\r\n\r\n  handleNoteRemove = async (noteID) => {\r\n    const response = await fetch(`${links.notes}/${noteID}`, {\r\n      method: 'DELETE',\r\n    });\r\n    const data = await response.json();\r\n    if (!data.success) return;\r\n\r\n    this.requestNotes();\r\n  }\r\n\r\n  requestNotes = async () => {\r\n    const response = await fetch(`${links.notes}`);\r\n    const notes = await response.json();\r\n    this.setState((prevState) => ({ ...prevState, notes }));\r\n  }\r\n\r\n  requestAddingNote = async (content) => {\r\n    const response = await fetch(`${links.notes}`, {\r\n      method: 'POST',\r\n      body: JSON.stringify({ content }),\r\n    })\r\n\r\n    const data = await response.json();\r\n    if (!data.success) return;\r\n\r\n    this.requestNotes();\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.requestNotes();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className={'crud'}>\r\n        <CrudHeader requestNotes={this.requestNotes} />\r\n\r\n        <div className={'crud__notes'}>\r\n          {this.state.notes.map((note) => \r\n            <div className={'crud__note'} key={note.id}>\r\n              <Note note={note} handleNoteRemove={this.handleNoteRemove}/>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        <FormCrud requestAddingNote={this.requestAddingNote}/>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import Watches from './components/Watches';\nimport CRUD from './components/CRUD/CRUD';\n\nexport default function App() {\n\treturn (\n\t\t<div className={'wrapper'}>\n\t\t\t<header className={'header'} id={'header'}>\n\t\t\t\t<div className={'header__body _container'}>\n\t\t\t\t\t<div className={'header__title'}>6. Домашнее задание к лекции «Жизненный цикл и работа с HTTP»</div>\n\t\t\t\t</div>\n\t\t\t</header>\n\n\t\t\t<main className={'main'}>\n\t\t\t\t<div className={'main__item task _container'} id={'task1'}>\n\t\t\t\t\t<header className={'task__header'}>\n\t\t\t\t\t\t<div className={'task__title'}>6.1. Мировые часы</div>\n\t\t\t\t\t\t<nav className={'task__menu menu'}>\n\t\t\t\t\t\t\t<div className={'menu__item'}>\n\t\t\t\t\t\t\t\t<a className={'menu__link menu__link-bottom'} href={'#task2'}>\n\t\t\t\t\t\t\t\t\t<span className={'_visually-hidden'}>next task</span>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</nav>\n\t\t\t\t\t</header>\n\t\t\t\t\t<div className={'task__body'}>\n\t\t\t\t\t\t{/* Компонент задачи 1. */}\n\t\t\t\t\t\t<Watches />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className={'main__item task _container'} id={'task2'}>\n\t\t\t\t\t<header className={'task__header'}>\n\t\t\t\t\t\t<div className={'task__title'}>6.2. CRUD</div>\n\t\t\t\t\t\t<nav className={'task__menu menu'}>\n\t\t\t\t\t\t\t<div className={'menu__item'}>\n\t\t\t\t\t\t\t\t<a className={'menu__link menu__link-top'} href={'#header'}>\n\t\t\t\t\t\t\t\t\t<span className={'_visually-hidden'}>previous task</span>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className={'menu__item'}>\n\t\t\t\t\t\t\t\t<a className={'menu__link menu__link-bottom'} href={'#task3'}>\n\t\t\t\t\t\t\t\t\t<span className={'_visually-hidden'}>next task</span>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</nav>\n\t\t\t\t\t</header>\n\t\t\t\t\t<div className={'task__body'}>\n\t\t\t\t\t\t{/* Компонент задачи 2. */}\n\t\t\t\t\t\t<CRUD />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className={'main__item task _container'} id={'task3'}>\n\t\t\t\t\t<header className={'task__header'}>\n\t\t\t\t\t\t<div className={'task__title'}>6.3. Чат*</div>\n\t\t\t\t\t\t<nav className={'task__menu menu'}>\n\t\t\t\t\t\t\t<div className={'menu__item'}>\n\t\t\t\t\t\t\t\t<a className={'menu__link menu__link-top'} href={'#task2'}>\n\t\t\t\t\t\t\t\t\t<span className={'_visually-hidden'}>previous task</span>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</nav>\n\t\t\t\t\t</header>\n\t\t\t\t\t<div className={'task__body'}>\n\t\t\t\t\t\t{/* Компонент задачи 3. */}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</main>\n\t\t</div>\n\t);\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './css/styles.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}