(this["webpackJsonpra-hw.-6-lifecycle-http.-1-watches.-2-crud.-3-chat"]=this["webpackJsonpra-hw.-6-lifecycle-http.-1-watches.-2-crud.-3-chat"]||[]).push([[0],{21:function(e,t,n){},22:function(e,t,n){},24:function(e,t,n){},25:function(e,t,n){},27:function(e,t,n){},28:function(e,t,n){},29:function(e,t,n){},30:function(e,t,n){},31:function(e,t,n){"use strict";n.r(t);var s=n(1),a=n.n(s),c=n(15),i=n.n(c),r=(n(21),n(16)),o=n(2),l=n(5),m=n(6),d=n(9),u=n(7),h=n(4),j=n(8),_=(n(22),n(0)),b=/^[+-\d]?$/,f=/^[+-]?\d{1,2}$/;var O=function(e){var t=e.addItem,n={title:"",timezone:""},a=Object(s.useState)(n),c=Object(j.a)(a,2),i=c[0],r=c[1],l=function(e){var t=e.target,n=t.name,s=t.value;if("timezone"===n)if(1===s.length){if(!b.test(s))return}else if(s.length>1&&!f.test(s))return;r((function(e){return Object(o.a)(Object(o.a)({},e),{},Object(h.a)({},n,s))}))};return Object(_.jsx)("form",{className:"watches__form form-watches",onSubmit:function(e){e.preventDefault(),0!==i.title.length&&0!==i.timezone.length&&(t({title:i.title,timezone:parseInt(i.timezone)}),r(n))},children:Object(_.jsxs)("div",{className:"form-watches__body",children:[Object(_.jsx)("div",{className:"form-watches__column form-watches__column-1",children:Object(_.jsxs)("div",{className:"form-watches__item item-form-watches",children:[Object(_.jsx)("label",{className:"item-form-watches__title",htmlFor:"watches-input-title",children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"}),Object(_.jsx)("input",{className:"item-form-watches__input",id:"watches-input-title",name:"title",value:i.title,onChange:l})]})}),Object(_.jsx)("div",{className:"form-watches__column form-watches__column-2",children:Object(_.jsxs)("div",{className:"form-watches__item item-form-watches",children:[Object(_.jsx)("label",{className:"item-form-watches__title",htmlFor:"watches-input-timezone",children:"\u0412\u0440\u0435\u043c\u0435\u043d\u043d\u0430\u044f \u0437\u043e\u043d\u0430"}),Object(_.jsx)("input",{className:"item-form-watches__input",id:"watches-input-timezone",name:"timezone",value:i.timezone,onChange:l,placeholder:"\u041f\u0440\u0438\u043c\u0435\u0440\u044b: 2, 0, -1, +3"})]})}),Object(_.jsx)("div",{className:"form-watches__column form-watches__column-3",children:Object(_.jsx)("div",{className:"form-watches__item item-form-watches",children:Object(_.jsx)("button",{className:"item-form-watches__btn",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})})})]})})},v=(n(24),function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var s;return Object(l.a)(this,n),(s=t.call(this,e)).interval=null,s.state={time:{hours:0,minutes:0,seconds:0},style:{hand:{hours:{},minutes:{},seconds:{}}}},s}return Object(m.a)(n,[{key:"getTime",value:function(){var e=new Date,t=e.getTimezoneOffset()/60+this.props.item.timezone;return e.setHours(e.getHours()+t),{hours:e.getHours(),minutes:e.getMinutes(),seconds:e.getSeconds()}}},{key:"getHandStyle",value:function(e){return{transform:"translate(-50%, -100%) rotate(".concat(e,"deg)")}}},{key:"changeTime",value:function(){var e=this,t=this.getTime();this.setState((function(n){return Object(o.a)(Object(o.a)({},n),{},{time:t,style:{hand:{hours:e.getHandStyle(30*t.hours+t.minutes/2),minutes:e.getHandStyle(6*t.minutes),seconds:e.getHandStyle(6*t.seconds)}}})}))}},{key:"componentDidMount",value:function(){var e=this;this.changeTime();var t=1e3-(new Date).getMilliseconds();setTimeout((function(){e.interval=setInterval((function(){return e.changeTime()}),1e3)}),t)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"formatTime",value:function(e){return e>9?e:"0".concat(e)}},{key:"render",value:function(){var e=this.props,t=e.item,n=e.handleItemRemove,s=this.state,a=s.time,c=a.hours,i=a.minutes,r=a.seconds,o=s.style;return Object(_.jsxs)("div",{className:"watches__item item-watches",children:[Object(_.jsx)("div",{className:"item-watches__title",children:t.title}),Object(_.jsxs)("div",{className:"item-watches__main",children:[Object(_.jsxs)("div",{className:"item-watches__time-digit",children:[this.formatTime(c),":",this.formatTime(i),":",this.formatTime(r)]}),Object(_.jsxs)("div",{className:"item-watches__clock-face clock-face",children:[Object(_.jsx)("div",{className:"clock-face__hand clock-face__hour-hand",style:o.hand.hours}),Object(_.jsx)("div",{className:"clock-face__hand clock-face__minute-hand",style:o.hand.minutes}),Object(_.jsx)("div",{className:"clock-face__hand clock-face__second-hand",style:o.hand.seconds})]}),Object(_.jsx)("button",{className:"item-watches__btn-remove",onClick:function(){return n(t)},children:Object(_.jsx)("span",{className:"_visually-hidden",children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})})]})]})}}]),n}(a.a.Component)),x=n(13),N=(n(25),[{id:Object(x.a)(),title:"\u041c\u043e\u0441\u043a\u0432\u0430",timezone:3},{id:Object(x.a)(),title:"\u041b\u043e\u043d\u0434\u043e\u043d",timezone:1}]),p=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var s;return Object(l.a)(this,n),(s=t.call(this,e)).addItem=function(e){e.id=Object(x.a)(),s.setState((function(t){return Object(o.a)(Object(o.a)({},t),{},{watches:[].concat(Object(r.a)(t.watches),[e])})}))},s.handleItemRemove=function(e){s.setState((function(t){return Object(o.a)(Object(o.a)({},t),{},{watches:t.watches.filter((function(t){return t.id!==e.id}))})}))},s.state={watches:N},s}return Object(m.a)(n,[{key:"render",value:function(){var e=this;return Object(_.jsxs)("div",{className:"watches",children:[Object(_.jsx)(O,{addItem:this.addItem}),Object(_.jsx)("div",{className:"watches__items",children:this.state.watches.map((function(t){return Object(_.jsx)(v,{item:t,handleItemRemove:e.handleItemRemove},t.id)}))})]})}}]),n}(a.a.Component),w=n(3),k=n.n(w),y=n(12);n(27);var g=function(e){var t=e.requestNotes,n=Object(s.useState)(!1),a=Object(j.a)(n,2),c=a[0],i=a[1];return Object(_.jsxs)("header",{className:"crud__header",children:[Object(_.jsx)("div",{className:"crud__title",children:"Notes"}),Object(_.jsxs)("button",{className:"crud__btn-udate".concat(c?" crud__btn-udate_animated":""),onClick:function(){c||(i(!0),setTimeout((function(){return i(!1)}),500),t())},children:[Object(_.jsx)("span",{className:"material-icons",children:"autorenew"}),Object(_.jsx)("span",{className:"_visually-hidden",children:"update"})]})]})};n(28);var S=function(e){var t=e.requestAddingNote,n=Object(s.useState)({content:""}),a=Object(j.a)(n,2),c=a[0],i=a[1];return Object(_.jsxs)("form",{className:"crud__form form-new-note",onSubmit:function(e){e.preventDefault(),0!==c.content.length&&t(c.content)},children:[Object(_.jsxs)("header",{className:"form-new-note__header",children:[Object(_.jsx)("div",{className:"form-new-note__title",children:"New Note"}),Object(_.jsx)("button",{className:"form-new-note__btn-send",children:Object(_.jsx)("span",{className:"_visually-hidden",children:"send"})})]}),Object(_.jsx)("textarea",{className:"form-new-note__input",name:"content",value:c.content,onChange:function(e){var t=e.target,n=t.name,s=t.value;i((function(e){return Object(h.a)({prevForm:e},n,s)}))},rows:"8"})]})};n(29);var T=function(e){var t=e.note,n=e.handleNoteRemove;return Object(_.jsx)("div",{className:"note",children:Object(_.jsxs)("div",{className:"note__body",children:[Object(_.jsx)("p",{className:"note__text",children:t.content}),Object(_.jsx)("button",{className:"note__btn-remove",onClick:function(){return n(t.id)},children:Object(_.jsx)("span",{className:"_visually-hidden",children:"remove"})})]})})},z=new URL(window.location.href);"localhost"===z.hostname&&(z.port="4000"),"mksinc.github.io"===z.hostname&&(z.hostname="ra-6-2-crud.herokuapp.com",z.protocol="https");var I=z;I.pathname="";var q={root:I.origin,notes:new URL("notes",z.href).href},R=(n(30),function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var s;return Object(l.a)(this,n),(s=t.call(this,e)).handleNoteRemove=function(){var e=Object(y.a)(k.a.mark((function e(t){var n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(q.notes,"/").concat(t),{method:"DELETE"});case 2:return n=e.sent,e.next=5,n.json();case 5:if(e.sent.success){e.next=8;break}return e.abrupt("return");case 8:s.requestNotes();case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.requestNotes=Object(y.a)(k.a.mark((function e(){var t,n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(q.notes));case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,s.setState((function(e){return Object(o.a)(Object(o.a)({},e),{},{notes:n})}));case 7:case"end":return e.stop()}}),e)}))),s.requestAddingNote=function(){var e=Object(y.a)(k.a.mark((function e(t){var n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(q.notes),{method:"POST",body:JSON.stringify({content:t})});case 2:return n=e.sent,e.next=5,n.json();case 5:if(e.sent.success){e.next=8;break}return e.abrupt("return");case 8:s.requestNotes();case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.state={notes:[]},s}return Object(m.a)(n,[{key:"componentDidMount",value:function(){this.requestNotes()}},{key:"render",value:function(){var e=this;return Object(_.jsxs)("div",{className:"crud",children:[Object(_.jsx)(g,{requestNotes:this.requestNotes}),Object(_.jsx)("div",{className:"crud__notes",children:this.state.notes.map((function(t){return Object(_.jsx)("div",{className:"crud__note",children:Object(_.jsx)(T,{note:t,handleNoteRemove:e.handleNoteRemove})},t.id)}))}),Object(_.jsx)(S,{requestAddingNote:this.requestAddingNote})]})}}]),n}(a.a.Component));function C(){return Object(_.jsxs)("div",{className:"wrapper",children:[Object(_.jsx)("header",{className:"header",id:"header",children:Object(_.jsx)("div",{className:"header__body _container",children:Object(_.jsx)("div",{className:"header__title",children:"6. \u0414\u043e\u043c\u0430\u0448\u043d\u0435\u0435 \u0437\u0430\u0434\u0430\u043d\u0438\u0435 \u043a \u043b\u0435\u043a\u0446\u0438\u0438 \xab\u0416\u0438\u0437\u043d\u0435\u043d\u043d\u044b\u0439 \u0446\u0438\u043a\u043b \u0438 \u0440\u0430\u0431\u043e\u0442\u0430 \u0441 HTTP\xbb"})})}),Object(_.jsxs)("main",{className:"main",children:[Object(_.jsxs)("div",{className:"main__item task _container",id:"task1",children:[Object(_.jsxs)("header",{className:"task__header",children:[Object(_.jsx)("div",{className:"task__title",children:"6.1. \u041c\u0438\u0440\u043e\u0432\u044b\u0435 \u0447\u0430\u0441\u044b"}),Object(_.jsx)("nav",{className:"task__menu menu",children:Object(_.jsx)("div",{className:"menu__item",children:Object(_.jsx)("a",{className:"menu__link menu__link-bottom",href:"#task2",children:Object(_.jsx)("span",{className:"_visually-hidden",children:"next task"})})})})]}),Object(_.jsx)("div",{className:"task__body",children:Object(_.jsx)(p,{})})]}),Object(_.jsxs)("div",{className:"main__item task _container",id:"task2",children:[Object(_.jsxs)("header",{className:"task__header",children:[Object(_.jsx)("div",{className:"task__title",children:"6.2. CRUD"}),Object(_.jsxs)("nav",{className:"task__menu menu",children:[Object(_.jsx)("div",{className:"menu__item",children:Object(_.jsx)("a",{className:"menu__link menu__link-top",href:"#header",children:Object(_.jsx)("span",{className:"_visually-hidden",children:"previous task"})})}),Object(_.jsx)("div",{className:"menu__item",children:Object(_.jsx)("a",{className:"menu__link menu__link-bottom",href:"#task3",children:Object(_.jsx)("span",{className:"_visually-hidden",children:"next task"})})})]})]}),Object(_.jsx)("div",{className:"task__body",children:Object(_.jsx)(R,{})})]}),Object(_.jsxs)("div",{className:"main__item task _container",id:"task3",children:[Object(_.jsxs)("header",{className:"task__header",children:[Object(_.jsx)("div",{className:"task__title",children:"6.3. \u0427\u0430\u0442*"}),Object(_.jsx)("nav",{className:"task__menu menu",children:Object(_.jsx)("div",{className:"menu__item",children:Object(_.jsx)("a",{className:"menu__link menu__link-top",href:"#task2",children:Object(_.jsx)("span",{className:"_visually-hidden",children:"previous task"})})})})]}),Object(_.jsx)("div",{className:"task__body"})]})]})]})}i.a.render(Object(_.jsx)(a.a.StrictMode,{children:Object(_.jsx)(C,{})}),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.22ea972e.chunk.js.map